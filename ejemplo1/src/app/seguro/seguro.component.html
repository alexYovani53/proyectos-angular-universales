
<br>
<h1>Seguros</h1>
<hr>
<br>

<div *ngIf="!completo" class="load">
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
</div>

<div class="flexContainer">

    <div *ngIf="completo" class="container principalCliente">

        <form id="crearSeguro">
            <div class="col-12 justify-content-center">
   
                 
                    <div class="input-group">
                        <input type="text" placeholder="Ramo" class="form-control" id="ramo" required [(ngModel)]="seguroNuevo.ramo" [ngModelOptions]="{standalone: true}">
                    </div>
                 
                    <div class="input-group">
                        <input type="text" placeholder="Condiciones" class="form-control" id="condicionesParticulares" required [(ngModel)]="seguroNuevo.condicionesParticulares" [ngModelOptions]="{standalone: true}">
                    </div>

                    
                    <div class="input-group">
                        <p-dropdown  [options]="clientes" [(ngModel)]="seguroNuevo.dniCl"  placeholder="Seleccionar cliente" optionLabel="valor"  [style]="{'width':'100%'}" [ngModelOptions]="{standalone: true}"></p-dropdown>
                    </div>
          
                                            
                    <div class="input-group" >
                        <p-calendar  placeholder="Fecha Inicio" dateFormat="yy-mm-dd" [(ngModel)]="seguroNuevo.fechaInicio" [ngModelOptions]="{standalone: true}" [showIcon]="true" inputId="icon" [minDate]="minDate" inputId="min-max" ></p-calendar>
                    </div>
                        
                    <div class="input-group">
                        <p-calendar   placeholder="Fecha Vencimiento"  dateFormat="yy-mm-dd" [(ngModel)]="seguroNuevo.fechaVencimiento" [ngModelOptions]="{standalone: true}" [showIcon]="true" inputId="icon" [minDate]="minDate" inputId="min-max"></p-calendar>
                    </div>

            </div>
            
    
        </form>
        <div class="row justify-content-center">
            <div class="col-5 align-self-center">   
                <div class="row justify-content-center btGuardarCliente">                 
                    <button  pButton type="button" class="p-button-raised p-button-rounded justify-content-center" icon="pi pi-check" (click)="enviarFormulario()"> </button>
                </div>
                <div class="row justify-content-center textGuardarCliente">
                    <h3 style="text-align: center;">Guardar</h3>
                </div>
            </div>
        </div>
    </div> 
    <div *ngIf="completo" class="sub">  
        <p-table  [value]="seguros" [paginator]="true" [rows]="10"  styleClass="p-datatable-striped">
            <ng-template pTemplate="caption"  >
                Lista de Seguros
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="numeroPoliza">Numero Poliza<p-sortIcon field="numeroPoliza"></p-sortIcon></th>
                    <th>Ramo</th>
                    <th>Fecha Inicio</th>
                    <th>Fecha Vencimiento</th>
                    <th>Condiciones Particulares</th>
                    <th>DNI Cliente</th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-seguro>
                <tr >
                    <td style="padding:5px;">{{seguro.numeroPoliza}}</td>
                    <td style="padding:5px">{{seguro.ramo}}</td>
                    <td style="padding:5px">{{seguro.fechaInicio | date:'yyyy-MM-dd'}} </td>
                    <td style="padding:5px">{{seguro.fechaVencimiento | date:'yyyy-MM-dd'}}</td>
                    <td style="padding:5px; text-align: center;">{{seguro.condicionesParticulares}}</td>
                    <td style="padding:5px; text-align: center;">{{seguro.dniCl}} </td>
                    <td style="padding: 5px; text-align:center; display: flex;">
                        <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2"></button>
                        <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" ></button>
                    </td>
                </tr>
            </ng-template>
    
    
        </p-table>
    </div>

</div>

